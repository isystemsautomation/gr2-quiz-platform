<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - GR2 Quiz Platform</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/app.css' %}">
</head>
<body>
    <header class="header">
        <div class="header-container">
            <a href="{% url 'dashboard' %}" class="header-logo">
                <img src="{% static 'img/logo.png' %}" alt="GR2 Quiz Platform Logo">
                <span class="header-logo-text">GR2 Quiz Platform</span>
            </a>
            <nav class="header-nav">
                <a href="{% url 'dashboard' %}">Dashboard</a>
                <a href="{% url 'logout' %}">Logout</a>
            </nav>
        </div>
    </header>

    <div class="main-container">
        <div class="card">
            <h1 class="page-title">Bun venit, {{ user.username }}!</h1>
        </div>

        <div class="instructions-card">
            <h3>ğŸ“‹ InstrucÈ›iuni</h3>
            <ul>
                <li>Alege disciplina È™i apoi un bloc de Ã®ntrebÄƒri.</li>
                <li>Fiecare bloc conÈ›ine ~20 Ã®ntrebÄƒri (ultimul poate avea mai puÈ›ine).</li>
                <li>Culoarea blocului reprezintÄƒ ultima Ã®ncercare: Alb = neÃ®nceput, RoÈ™u = 0â€“17 corecte, Galben = 18â€“19 corecte, Verde = toate corecte.</li>
                <li>DupÄƒ trimitere, vei vedea rÄƒspunsurile È™i explicaÈ›iile (dacÄƒ sunt completate).</li>
                <li>Recomandare: lucreazÄƒ consecvent blocurile pÃ¢nÄƒ obÈ›ii Verde.</li>
            </ul>
        </div>

        {% for subject in subjects %}
            <div class="card subject-section">
                <h3 class="section-title">{{ subject.title }}</h3>
                <div class="blocks-grid">
                    {% for block in subject.blocks %}
                        <a href="{% url 'block_take' subject.id block.number %}" class="block-tile {{ block.color_class }}">
                            <div class="block-number">Bloc {{ block.number }}</div>
                            <div class="block-score">
                                {% if block.last_attempt %}
                                    {{ block.last_attempt.score }}/{{ block.last_attempt.total }}
                                {% else %}
                                    â€”
                                {% endif %}
                            </div>
                        </a>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
</body>
</html>
